2026-01-14 09:17:15,033 [main] DEBUG org.jboss.logging                        - Logging Provider: org.jboss.logging.Slf4jLoggerProvider
2026-01-14 09:17:50,285 [main] DEBUG org.jboss.logging                        - Logging Provider: org.jboss.logging.Slf4jLoggerProvider
2026-01-14 09:17:50,466 [main] INFO  org.hibernate.orm.jpa                    - HHH008540: Processing PersistenceUnitInfo [name: PersistenciaInstituto]
2026-01-14 09:17:50,519 [main] INFO  org.hibernate.orm.core                   - HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-14 09:17:51,559 [main] INFO  org.hibernate.orm.connections.pooling    - HHH10001005: Database info:
	Database JDBC URL [jdbc:h2:./data/instituto;AUTO_SERVER=TRUE]
	Database driver: H2 JDBC Driver
	Database dialect: H2Dialect
	Database version: 2.4.240
	Default catalog/schema: INSTITUTO/PUBLIC
	Autocommit mode: true
	Isolation level: READ_COMMITTED
	JDBC fetch size: 100
	Pool: HikariCPConnectionProvider
	Minimum pool size: 2
	Maximum pool size: 5
2026-01-14 09:19:36,787 [main] DEBUG org.jboss.logging                        - Logging Provider: org.jboss.logging.Slf4jLoggerProvider
2026-01-14 09:19:36,983 [main] INFO  org.hibernate.orm.jpa                    - HHH008540: Processing PersistenceUnitInfo [name: PersistenciaInstituto]
2026-01-14 09:19:37,034 [main] INFO  org.hibernate.orm.core                   - HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-14 09:19:37,971 [main] INFO  org.hibernate.orm.connections.pooling    - HHH10001005: Database info:
	Database JDBC URL [jdbc:h2:./data/instituto;AUTO_SERVER=TRUE]
	Database driver: H2 JDBC Driver
	Database dialect: H2Dialect
	Database version: 2.4.240
	Default catalog/schema: INSTITUTO/PUBLIC
	Autocommit mode: true
	Isolation level: READ_COMMITTED
	JDBC fetch size: 100
	Pool: HikariCPConnectionProvider
	Minimum pool size: 2
	Maximum pool size: 5
2026-01-14 09:19:55,156 [main] DEBUG org.jboss.logging                        - Logging Provider: org.jboss.logging.Slf4jLoggerProvider
2026-01-14 09:19:55,373 [main] INFO  org.hibernate.orm.jpa                    - HHH008540: Processing PersistenceUnitInfo [name: PersistenciaInstituto]
2026-01-14 09:19:55,428 [main] INFO  org.hibernate.orm.core                   - HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-14 09:19:56,137 [main] INFO  org.hibernate.orm.connections.pooling    - HHH10001005: Database info:
	Database JDBC URL [jdbc:h2:./data/instituto;AUTO_SERVER=TRUE]
	Database driver: H2 JDBC Driver
	Database dialect: H2Dialect
	Database version: 2.4.240
	Default catalog/schema: INSTITUTO/PUBLIC
	Autocommit mode: true
	Isolation level: READ_COMMITTED
	JDBC fetch size: 100
	Pool: HikariCPConnectionProvider
	Minimum pool size: 2
	Maximum pool size: 5
2026-01-14 09:19:57,186 [main] INFO  org.hibernate.orm.core                   - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14 09:19:57,232 [main] DEBUG org.hibernate.SQL                        - 
    [34mcreate[0m [34mtable[0m instituto.alumno (
        id [34mbigint[0m generated [34mby[0m [34mdefault[0m [34mas[0m [34midentity[0m,
        correoElectronico [34mvarchar[0m(255),
        nombre [34mvarchar[0m(255) [34mnot[0m [34mnull[0m,
        [34mprimary[0m [34mkey[0m (id)
    )
2026-01-14 09:19:57,242 [main] WARN  o.h.t.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table instituto.alumno (
        id bigint generated by default as identity,
        correoElectronico varchar(255),
        nombre varchar(255) not null,
        primary key (id)
    )" via JDBC [Schema "INSTITUTO" no encontrado
Schema "INSTITUTO" not found;]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table instituto.alumno (
        id bigint generated by default as identity,
        correoElectronico varchar(255),
        nombre varchar(255) not null,
        primary key (id)
    )" via JDBC [Schema "INSTITUTO" no encontrado
Schema "INSTITUTO" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:81)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:566)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:506)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:305)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:96)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:269)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$1(SchemaManagementToolCoordinator.java:101)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:100)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:35)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:33)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:323)
	at org.hibernate.internal.SessionFactoryRegistry.instantiateSessionFactory(SessionFactoryRegistry.java:64)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:437)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1456)
	at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:57)
	at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:90)
	at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:66)
	at es.ciudadescolar.Main.<clinit>(Main.java:15)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Schema "INSTITUTO" no encontrado
Schema "INSTITUTO" not found; SQL statement:

    create table instituto.alumno (
        id bigint generated by default as identity,
        correoElectronico varchar(255),
        nombre varchar(255) not null,
        primary key (id)
    ) [90079-240]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:644)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getSchema(Parser.java:926)
	at org.h2.command.Parser.getSchema(Parser.java:932)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8915)
	at org.h2.command.Parser.parseCreate(Parser.java:6483)
	at org.h2.command.Parser.parsePrepared(Parser.java:648)
	at org.h2.command.Parser.parse(Parser.java:584)
	at org.h2.command.Parser.parse(Parser.java:559)
	at org.h2.command.Parser.prepareCommand(Parser.java:487)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:647)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:563)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1160)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:76)
	... 20 common frames omitted
2026-01-14 09:19:57,246 [main] DEBUG org.hibernate.SQL                        - 
    [34malter[0m [34mtable[0m [34mif[0m [34mexists[0m instituto.alumno 
       [34mdrop[0m [34mconstraint[0m [34mif[0m [34mexists[0m UK4jybrqueqaqqxf5v3gdgnfrbr
2026-01-14 09:19:57,249 [main] DEBUG org.hibernate.SQL                        - 
    [34malter[0m [34mtable[0m [34mif[0m [34mexists[0m instituto.alumno 
       [34madd[0m [34mconstraint[0m UK4jybrqueqaqqxf5v3gdgnfrbr [34munique[0m (correoElectronico)
2026-01-14 09:19:57,308 [main] DEBUG org.hibernate.SQL                        - 
    [34minsert[0m 
    [34minto[0m
        instituto.alumno
        (correoElectronico, nombre, id) 
    [34mvalues[0m
        (?, ?, [34mdefault[0m)
2026-01-14 09:19:57,313 [main] WARN  org.hibernate.orm.jdbc.error             - HHH000247: ErrorCode: 90079, SQLState: 90079
2026-01-14 09:19:57,314 [main] WARN  org.hibernate.orm.jdbc.error             - Schema "INSTITUTO" no encontrado
Schema "INSTITUTO" not found; SQL statement:
insert into instituto.alumno (correoElectronico,nombre,id) values (?,?,default) [90079-240]
2026-01-14 09:19:57,317 [main] ERROR es.ciudadescolar.Main                    - Error durante la persistencia de datos: Could not prepare statement [Schema "INSTITUTO" no encontrado
Schema "INSTITUTO" not found; SQL statement:
insert into instituto.alumno (correoElectronico,nombre,id) values (?,?,default) [90079-240]] [insert into instituto.alumno (correoElectronico,nombre,id) values (?,?,default)]
2026-01-14 09:19:57,319 [main] DEBUG es.ciudadescolar.Main                    - Se ha llevado a cabo el rollback de la transaccion
2026-01-14 09:19:57,319 [main] DEBUG es.ciudadescolar.Main                    - Se ha cerrado la conexion en la DB
2026-01-14 09:19:57,331 [main] DEBUG es.ciudadescolar.Main                    - Se ha cerrado el pull de conexiones con la DB
2026-01-14 09:21:09,765 [main] DEBUG org.jboss.logging                        - Logging Provider: org.jboss.logging.Slf4jLoggerProvider
2026-01-14 09:21:09,955 [main] INFO  org.hibernate.orm.jpa                    - HHH008540: Processing PersistenceUnitInfo [name: PersistenciaInstituto]
2026-01-14 09:21:10,007 [main] INFO  org.hibernate.orm.core                   - HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-14 09:21:10,703 [main] INFO  org.hibernate.orm.connections.pooling    - HHH10001005: Database info:
	Database JDBC URL [jdbc:h2:./data/instituto;AUTO_SERVER=TRUE]
	Database driver: H2 JDBC Driver
	Database dialect: H2Dialect
	Database version: 2.4.240
	Default catalog/schema: INSTITUTO/PUBLIC
	Autocommit mode: true
	Isolation level: READ_COMMITTED
	JDBC fetch size: 100
	Pool: HikariCPConnectionProvider
	Minimum pool size: 2
	Maximum pool size: 5
2026-01-14 09:21:11,644 [main] INFO  org.hibernate.orm.core                   - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14 09:21:11,687 [main] DEBUG org.hibernate.SQL                        - 
    [34mcreate[0m [34mtable[0m alumno (
        id [34mbigint[0m generated [34mby[0m [34mdefault[0m [34mas[0m [34midentity[0m,
        correoElectronico [34mvarchar[0m(255),
        nombre [34mvarchar[0m(255) [34mnot[0m [34mnull[0m,
        [34mprimary[0m [34mkey[0m (id)
    )
2026-01-14 09:21:11,691 [main] DEBUG org.hibernate.SQL                        - 
    [34malter[0m [34mtable[0m [34mif[0m [34mexists[0m alumno 
       [34mdrop[0m [34mconstraint[0m [34mif[0m [34mexists[0m UK4jybrqueqaqqxf5v3gdgnfrbr
2026-01-14 09:21:11,693 [main] DEBUG org.hibernate.SQL                        - 
    [34malter[0m [34mtable[0m [34mif[0m [34mexists[0m alumno 
       [34madd[0m [34mconstraint[0m UK4jybrqueqaqqxf5v3gdgnfrbr [34munique[0m (correoElectronico)
2026-01-14 09:21:11,749 [main] DEBUG org.hibernate.SQL                        - 
    [34minsert[0m 
    [34minto[0m
        alumno
        (correoElectronico, nombre, id) 
    [34mvalues[0m
        (?, ?, [34mdefault[0m)
2026-01-14 09:21:11,751 [main] TRACE org.hibernate.orm.jdbc.bind              - binding parameter (1:VARCHAR) <- [juan@ciudadescolar.es]
2026-01-14 09:21:11,751 [main] TRACE org.hibernate.orm.jdbc.bind              - binding parameter (2:VARCHAR) <- [Juan]
2026-01-14 09:21:11,787 [main] DEBUG es.ciudadescolar.Main                    - la instancia de alumno pasa a estar administrada o persistente
2026-01-14 09:21:11,799 [main] DEBUG es.ciudadescolar.Main                    - El estado de la instancia se ha guardado en la DB
2026-01-14 09:21:11,800 [main] DEBUG es.ciudadescolar.Main                    - Se ha cerrado la conexion en la DB
2026-01-14 09:21:11,815 [main] DEBUG es.ciudadescolar.Main                    - Se ha cerrado el pull de conexiones con la DB
2026-01-14 09:40:20,070 [main] DEBUG org.jboss.logging                        - Logging Provider: org.jboss.logging.Slf4jLoggerProvider
2026-01-14 09:40:20,251 [main] INFO  org.hibernate.orm.jpa                    - HHH008540: Processing PersistenceUnitInfo [name: PersistenciaInstituto]
2026-01-14 09:40:20,298 [main] INFO  org.hibernate.orm.core                   - HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-14 09:40:20,843 [main] INFO  org.hibernate.orm.connections.pooling    - HHH10001005: Database info:
	Database JDBC URL [jdbc:h2:./data/instituto;AUTO_SERVER=TRUE]
	Database driver: H2 JDBC Driver
	Database dialect: H2Dialect
	Database version: 2.4.240
	Default catalog/schema: INSTITUTO/PUBLIC
	Autocommit mode: true
	Isolation level: READ_COMMITTED
	JDBC fetch size: 100
	Pool: HikariCPConnectionProvider
	Minimum pool size: 2
	Maximum pool size: 5
2026-01-14 09:40:21,844 [main] INFO  org.hibernate.orm.core                   - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14 09:40:21,993 [main] DEBUG org.hibernate.SQL                        - 
    [34minsert[0m 
    [34minto[0m
        alumno
        (correoElectronico, nombre, id) 
    [34mvalues[0m
        (?, ?, [34mdefault[0m)
2026-01-14 09:40:21,998 [main] TRACE org.hibernate.orm.jdbc.bind              - binding parameter (1:VARCHAR) <- [juan@ciudadescolar.es]
2026-01-14 09:40:21,999 [main] TRACE org.hibernate.orm.jdbc.bind              - binding parameter (2:VARCHAR) <- [Juan]
2026-01-14 09:40:22,014 [main] WARN  org.hibernate.orm.jdbc.error             - HHH000247: ErrorCode: 23505, SQLState: 23505
2026-01-14 09:40:22,015 [main] WARN  org.hibernate.orm.jdbc.error             - Violación de indice de Unicidad ó Clave primaria: "PUBLIC.UK4JYBRQUEQAQQXF5V3GDGNFRBR INDEX PUBLIC.UK4JYBRQUEQAQQXF5V3GDGNFRBR_INDEX_7 ON PUBLIC.ALUMNO(CORREOELECTRONICO NULLS FIRST) VALUES ( /* 1 */ 'juan@ciudadescolar.es' )"
Unique index or primary key violation: "PUBLIC.UK4JYBRQUEQAQQXF5V3GDGNFRBR INDEX PUBLIC.UK4JYBRQUEQAQQXF5V3GDGNFRBR_INDEX_7 ON PUBLIC.ALUMNO(CORREOELECTRONICO NULLS FIRST) VALUES ( /* 1 */ 'juan@ciudadescolar.es' )"; SQL statement:
insert into alumno (correoElectronico,nombre,id) values (?,?,default) [23505-240]
2026-01-14 09:40:22,028 [main] ERROR es.ciudadescolar.Main                    - Error durante la persistencia de datos: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.UK4JYBRQUEQAQQXF5V3GDGNFRBR INDEX PUBLIC.UK4JYBRQUEQAQQXF5V3GDGNFRBR_INDEX_7 ON PUBLIC.ALUMNO(CORREOELECTRONICO NULLS FIRST) VALUES ( /* 1 */ 'juan@ciudadescolar.es' )"
Unique index or primary key violation: "PUBLIC.UK4JYBRQUEQAQQXF5V3GDGNFRBR INDEX PUBLIC.UK4JYBRQUEQAQQXF5V3GDGNFRBR_INDEX_7 ON PUBLIC.ALUMNO(CORREOELECTRONICO NULLS FIRST) VALUES ( /* 1 */ 'juan@ciudadescolar.es' )"; SQL statement:
insert into alumno (correoElectronico,nombre,id) values (?,?,default) [23505-240]] [insert into alumno (correoElectronico,nombre,id) values (?,?,default)]
2026-01-14 09:40:22,036 [main] DEBUG es.ciudadescolar.Main                    - Se ha llevado a cabo el rollback de la transaccion
2026-01-14 09:40:22,036 [main] DEBUG es.ciudadescolar.Main                    - Se ha cerrado la conexion en la DB
2026-01-14 09:40:22,043 [main] DEBUG es.ciudadescolar.Main                    - Se ha cerrado el pull de conexiones con la DB
2026-01-14 09:40:53,659 [main] DEBUG org.jboss.logging                        - Logging Provider: org.jboss.logging.Slf4jLoggerProvider
2026-01-14 09:40:53,837 [main] INFO  org.hibernate.orm.jpa                    - HHH008540: Processing PersistenceUnitInfo [name: PersistenciaInstituto]
2026-01-14 09:40:53,884 [main] INFO  org.hibernate.orm.core                   - HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-14 09:40:54,455 [main] INFO  org.hibernate.orm.connections.pooling    - HHH10001005: Database info:
	Database JDBC URL [jdbc:h2:./data/instituto;AUTO_SERVER=TRUE]
	Database driver: H2 JDBC Driver
	Database dialect: H2Dialect
	Database version: 2.4.240
	Default catalog/schema: INSTITUTO/PUBLIC
	Autocommit mode: true
	Isolation level: READ_COMMITTED
	JDBC fetch size: 100
	Pool: HikariCPConnectionProvider
	Minimum pool size: 2
	Maximum pool size: 5
2026-01-14 09:40:55,412 [main] INFO  org.hibernate.orm.core                   - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-14 09:40:55,525 [main] DEBUG org.hibernate.SQL                        - 
    [34minsert[0m 
    [34minto[0m
        alumno
        (correoElectronico, nombre, id) 
    [34mvalues[0m
        (?, ?, [34mdefault[0m)
2026-01-14 09:40:55,529 [main] TRACE org.hibernate.orm.jdbc.bind              - binding parameter (1:VARCHAR) <- [juan_._dos@ciudadescolar.es]
2026-01-14 09:40:55,530 [main] TRACE org.hibernate.orm.jdbc.bind              - binding parameter (2:VARCHAR) <- [Juan]
2026-01-14 09:40:55,551 [main] DEBUG es.ciudadescolar.Main                    - la instancia de alumno pasa a estar administrada o persistente
2026-01-14 09:40:55,562 [main] DEBUG es.ciudadescolar.Main                    - El estado de la instancia se ha guardado en la DB
2026-01-14 09:40:55,563 [main] DEBUG es.ciudadescolar.Main                    - Se ha cerrado la conexion en la DB
2026-01-14 09:40:55,568 [main] DEBUG es.ciudadescolar.Main                    - Se ha cerrado el pull de conexiones con la DB
